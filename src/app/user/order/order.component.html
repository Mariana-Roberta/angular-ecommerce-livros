<!-- carrinho.component.html -->

<header>
  <nav>
    <ul>
      <li><a routerLink="/usuario/home" routerLinkActive="active">Home</a></li>
      <li><a routerLink="/usuario/carrinho" routerLinkActive="active">Carrinho</a></li>
      <li><a routerLink="/usuario/pedidos" routerLinkActive="active">Pedido</a></li>
    </ul>
  </nav>
</header>

<div class="cart">
  <h2>Seu Pedido</h2>
</div>

<div class="cart-container">
  <h3>Pedido
  </h3>
  <div class="surround-table" *ngIf="cartItems.length > 0; else emptyCart">
    <table class="cart-items-table">
      <thead>
      <tr>
        <th>Título</th>
        <th>Autor</th>
        <th>Sinopse</th>
        <th>Preço</th>
        <th>Quantidade</th>
        <th>Total</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of cartItems; trackBy: trackById">
        <td>{{ item.livro.titulo }}</td>
        <td>{{ item.livro.autor }}</td>
        <td>{{ item.livro.sinopse | slice: 0:50 }}...</td>
        <td>R$ {{ item.livro.valor }}</td>
        <td>{{ item.quantidade }}</td>
        <td>R$ {{ item.livro.valor * item.quantidade }}</td>
        <td></td>
      </tr>
      </tbody>
    </table>
    <div id="total"><p>Total: R$ {{ orderTotal }}</p></div>
    <div id="btn">
      <p-button label="Confirmar Pedido" (click)="confirmOrder()"></p-button>
    </div>
  </div>
  <ng-template #emptyCart>
    <p>Seu pedido está vazio.</p>
  </ng-template>
</div>
